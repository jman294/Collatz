<!doctype html>
<html class="no-js" lang="">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="x-ua-compatible" content="ie=edge">
        <title></title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <link rel="apple-touch-icon" href="apple-touch-icon.png">
        <!-- Place favicon.ico in the root directory -->

        <link rel="stylesheet" href="css/normalize.css">
        <link rel="stylesheet" href="css/main.css">
        <script src="js/vendor/modernizr-2.8.3.min.js"></script>
    </head>
    <body>
        <!--[if lt IE 8]>
            <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> to improve your experience.</p>
        <![endif]-->

        <!-- Add your site or application content here -->
        <input type="text" id='numberInput' size="40" placeholder="input a number">
        <button type="button" id='submitNumber'>Submit</button>
        <p id="text">Sam</p>
        <canvas id="myCanvas" width="1000" height="600" color="blue"></canvas> 
        <script>
            var width = Math.max(document.documentElement.clientWidth, window.innerWidth || 0)
            var height = Math.max(document.documentElement.clientHeight, window.innerHeight || 0)
            var canvas = document.getElementById("myCanvas");
            canvas.width = width*.95;
            canvas.height = height*.85;
            

            console.log(width + " " + height);
            

            
            var ctx = canvas.getContext("2d");
            /*
            ctx.fillStyle = "#FF000";

            ctx.beginPath();
            ctx.moveTo(0, canvas.height-16*heightDivision);

              // line 1
            ctx.lineTo(widthDivision, canvas.height-8*heightDivision);

              // quadratic curve
            ctx.lineTo(2*widthDivision,canvas.height-4*heightDivision);

              // line 2
            ctx.lineTo(3*widthDivision,canvas.height-2*heightDivision);

            ctx.lineTo(4*widthDivision,canvas.height-1*heightDivision);

            ctx.lineWidth = 5;
            ctx.strokeStyle = 'blue';
            ctx.stroke();
            */


            var array = [];
            document.getElementById('submitNumber').onclick = function(event){
                var number = document.getElementById("numberInput").value;
                array[0] = number;
                var max = number;
                for(i = 1; i >=0; i++){
                    if (array[i-1] === 1){
                        break;
                    }else if(array[i-1] % 2 === 0){
                        array[i] = array[i-1]/2;
                        if (max < array[i]){
                            max = array[i];
                        }
                    }else{
                        array[i] = array[i-1]*3 + 1;
                        if (max < array[i]){
                            max = array[i];
                        }
                        array[i+1] = array[i]/2;
                        if (max < array[i+1]){
                            max = array[i+1];
                        }
                        i++;
                    }
                }
            var widthDivision = canvas.width/array.length;
            var heightDivision = canvas.height/max;
            console.log("width"+canvas.width);

            ctx.beginPath();
            ctx.moveTo(0,canvas.height-8*heightDivision);


            //ctx.lineTo(widthDivision,canvas.height-4*heightDivision);
            console.log("w"+widthDivision);
            console.log("c"+(canvas.height-4*heightDivision));


            //ctx.lineTo(2*widthDivision,canvas.height-2*heightDivision);
            console.log("w"+2*widthDivision);
            console.log("c"+(canvas.height-2*heightDivision));

            //ctx.lineTo(3*widthDivision,canvas.height-1*heightDivision);
            console.log("w"+3*widthDivision);
            console.log("c"+(canvas.height-1*heightDivision));

            console.log("///////");

            //ctx.stroke();
            for(i=1; i < array.length; i++){
                ctx.lineTo(i*widthDivision,canvas.height-array[i]*heightDivision);
                console.log("w"+(i*widthDivision));
                console.log("c"+(canvas.height-array[i]*heightDivision));
            }
            ctx.lineWidth = 3;
            ctx.strokeStyle = 'blue';
            ctx.stroke();

            }



        </script>
       
    </body>
</html>
